<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>회원가입</title>
<script type="text/javascript" src = "../js/jquery-3.4.1.min.js"></script>
<script type="text/javascript">
	$(function(){
		$("#join").submit(function(){
			if($("#result").length == 0){
				$("#join").append("<div id = 'result'></div>");
			}
			
			// 2. id가 입력안된 경우 "아이디를 입력하세요.!!" .. 결과확인
			// $(input 요소).val() == document.폼명.태그명.value는 사용자가 입력한 값을 리턴한다.
			if(!$("input[name = 'user_id']").val()){
				$("#result").html("아이디를 입력하세요");
				$("input[name = 'user_id']").focus();
				return false;
			}
			
			if(!$("input[name = 'user_pwd']").val()){
				$("#result").html("패스워드를 입력하세요");
				$(this).focus();
				return false;
			}
			
			if(!$("input[name = 'juminNum']").val()){
				$("#result").html("주민번호를 입력하세요");
				$(this).focus();
				return false;
			}
			
			if(!$("input[name = 'email']").val()){
				$("#result").html("이메일을 입력하세요");
				$(this).focus();
				return false;
			}
			
			if(!$("input[name = 'url']").val()){
				$("#result").html("url을 입력하세요");
				$(this).focus();
				return false;
			}
			
			if(!$("input[name = 'hpno']").val()){
				$("#result").html("핸드폰 번호를 입력하세요");
				$(this).focus();
				return false;
			}
			
			if(!$("input[name = 'gender']").is(":checked")){
				$("#result").html("성별을 체크해주세요");
				$("input[name = 'gender']:eq(0)").focus();
				return false;
			}
			
			if(!$("input[name = 'hobby']").is(":checked")){
				$("#result").html("취미를 체크해주세요!!!");
				$("input[name = 'hobby']:eq(0)").focus();
				return false;
			}
			
			if(!$("select[name = 'job']").val()){
				$("#result").html("직업을 체크해주세요");
				$(this).focus();
				return false;
			}
			
			// 3. 정상적으로 입력된 경우 변수에 담는다.
			var userId = $("input[name = 'user_id']").val();
			var userPwd = $("input[name = 'user_pwd']").val();
			var userJumin = $("input[name = 'juminNum']").val();
			var userEmail = $("input[name = 'email']").val();
			var userGender = $("input[name = 'gender']:checked").val();
			var userURL = $("input[name = 'url']").val();
			var userHpno = $("input[name = 'hpno']").val();
			// checkbox는 값이 여러개일 수도 있어서 val()을 써주지 않음
			var userHobby = $("input[name = 'hobby']:checked");
			var userJob = $("select[name = 'job']").val();
			
			// 추출된 값을 누적하여 저장할 문자열 변수
			var hobby = "";
			
			// each() : userhobby의 개체수만큼 반복적으로 function()이 반복되어 실행됨
			userHobby.each(function(){
				if(hobby == ""){
					hobby = $(this).val();
				} else {
					hobby += (", " + $(this).val());
				}
			});
			
			// 4. 정상적으로 입력된 경우 출력한다.
			$("#result").html("아이디 : " + userId + "<br>패스워드 : "
					+ userPwd + "<br>주민번호 : " + userJumin + "<br>이메일 : "
					+ userEmail + "<br>성별 : " + userGender + "<br>직업 : "
					+ userJob + "<br>취미 : " + hobby + "<br>url : "
					+ userURL + "<br>핸드폰 : " + userHpno);
			return false;
		});
	});
</script>
</head>
<body>
	<h3> 회원가입 </h3>
	<form name = "myForm" id = "join">
		<div id = "indiv">
			<table>
				<tr>
					<td align = "right">아이디 : </td>
					<td><input type = "text" name = "user_id"></td>
				</tr>
				
				<tr>
					<td align = "right">비밀번호 : </td>
					<td><input type = "password" name = "user_pwd"></td>
				</tr>
				
				<tr>
					<td align = "right">우편번호 : </td>
					<td><input type = "text" name = "juminNum"></td>
				</tr>
				
				<tr>
					<td align = "right">성별 : </td>
					<td><input type = "radio" name = "gender" value = "남자">남자
					    <input type = "radio" name = "gender" value = "여자">여자</td>
				</tr>
				
				<tr>
					<td align = "right">이메일 : </td>
					<td><input type = "email" name = "email"></td>
				</tr>
				
				<tr>
					<td align = "right">url : </td>
					<td><input type = "url" name = "url"></td>
				</tr>
				
				<tr>
					<td align = "right">핸드폰 : </td>
					<td><input type = "text" name = "hpno"></td>
				</tr>
				
				<tr>
					<td align = "right">취미 : </td>
					<td>
						<input type = "checkbox" name = "hobby" value = "유럽여행">유럽여행
						<input type = "checkbox" name = "hobby" value = "맛집탐방">맛집탐방
						<input type = "checkbox" name = "hobby" value = "코딩">코딩
						<input type = "checkbox" name = "hobby" value = "즐점">츨점
						<input type = "checkbox" name = "hobby" value = "수영">수영
					</td>
				</tr>
				
				<tr>
					<td align = "right">직업 : </td>
					<td><select name = "job">
						<option value = "">직업을 선택하세요.</option>
						<option value = "프로그래머">프로그래머</option>
						<option value = "프로게이머">프로게이머</option>
						<option value = "플로리스트">플로리스트</option>
						<option value = "큐레이터">큐레이터</option>
						<option value = "바리스타">바리스타</option>
						<option value = "아이돌">아이돌</option>
					</select>
					</td>
				</tr>
				
				<tr>
					<td colspan = "2">
					<input type = "submit" value = "회원가입" class = "myButton">
					<input type = "reset" value = "다시작성" class = "myButton">
					</td>
				</tr>
			</table>
		</div>
		<hr>
		<!-- <div id = "result">
			결과 출력 위치
		</div> -->
	</form>
</body>
</html>